{% extends "layout.html" %}


{% block content %}

<div class="row">
    <div class="col-md-10">
            <p>
                Please enter your Search Terms:<br>
                <input name="keyword" size="80" type="text" value="{{ request.args.get('keyword', '') }}">
                <input type="submit" value="Search">
            </p>
    </div>
</div>

        
<div class="row">
    <div class="col-md-3">
        <b>Address:</b><input name="address" size="25" type="text" value="{{address_term}}">
{% set shown_facets = [
    ('Suburb', 'addresses.suburb', 'title'),
    ('State', 'state', 'upper'),
    ('Architect', 'architects', 'title')
] -%}
        {% for title, facet, case in shown_facets %}
          <b>{{title}}</b><br>
          <ul>
            {% for term in facets[facet].terms %}
                {% if case == 'title' %}
                    <li>{{ term.term|title }} ({{ term.count }})</li>
                {% elif case == 'upper' %}
                    <li>{{ term.term|upper }} ({{ term.count }})</li>
                {% else %}
                    <li>{{ term.term }} ({{ term.count }})</li>
                {% endif %}
            {% endfor %}
          </ul>
        {% endfor %}
    </div>


    <div class="col-md-9">

        {{ pagination.info|safe }}
        <ul>
        {% for hit in results %}
        <li>
                <b><a href="{{ hit._source.url }}" target="_blank">[{{ hit._source.state }}] {{ hit._source.name|title }}</a></b>
                 - <a href="{{ url_for('get_record', id=hit._id) }}">record</a>
                 - <a href="{{ url_for('get_record_json', id=hit._id) }}">json</a><br>
                 {{ hit._source.location|title if hit._source.location }}

        </li>
        {% endfor %}
        </ul>

        {{ pagination.links|safe }}
    </div>
</div>


{% endblock %}